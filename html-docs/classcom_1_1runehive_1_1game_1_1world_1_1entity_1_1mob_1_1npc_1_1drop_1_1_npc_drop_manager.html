<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RuneHive-Game: com.runehive.game.world.entity.mob.npc.drop.NpcDropManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_dark_interactive.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RuneHive-Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager.html','','classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">com.runehive.game.world.entity.mob.npc.drop.NpcDropManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The manager class which holds the static entries of drop tables and has a method to execute a drop table from the specified npc.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a53f2b061352aedc7629babc7f42a6595" id="r_a53f2b061352aedc7629babc7f42a6595"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53f2b061352aedc7629babc7f42a6595">drop</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> killer, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a> npc)</td></tr>
<tr class="memdesc:a53f2b061352aedc7629babc7f42a6595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to drop the drop table which belongs to <code class="JavaDocCode">npc#id</code>.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae0b2b9cc3424f3af4a4f9d3e12a62036" id="r_ae0b2b9cc3424f3af4a4f9d3e12a62036"><td class="memItemLeft" align="right" valign="top">static final Map&lt; Integer, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_table.html">NpcDropTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0b2b9cc3424f3af4a4f9d3e12a62036">NPC_DROPS</a> = new HashMap&lt;&gt;()</td></tr>
<tr class="memdesc:ae0b2b9cc3424f3af4a4f9d3e12a62036"><td class="mdescLeft">&#160;</td><td class="mdescRight">The collection of npc ids by their representative drop tables.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-static-methods" class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a8d9c7ab1f7d242090514f0853a671770" id="r_a8d9c7ab1f7d242090514f0853a671770"><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d9c7ab1f7d242090514f0853a671770">checkAlternativePosition</a> (int npc)</td></tr>
<tr class="memitem:adc23cfad8db3455319fe7eecf3c21806" id="r_adc23cfad8db3455319fe7eecf3c21806"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc23cfad8db3455319fe7eecf3c21806">handleAshSanctifier</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> player, <a class="el" href="enumcom_1_1runehive_1_1content_1_1skill_1_1impl_1_1prayer_1_1_ash_data.html">AshData</a> ashes)</td></tr>
<tr class="memitem:af543485e29973144848946a396595771" id="r_af543485e29973144848946a396595771"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af543485e29973144848946a396595771">handleBoneCrusher</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> player, <a class="el" href="enumcom_1_1runehive_1_1content_1_1skill_1_1impl_1_1prayer_1_1_bone_data.html">BoneData</a> bone)</td></tr>
<tr class="memitem:ad78243dd21f7e458c5b8ef2924b9a1ee" id="r_ad78243dd21f7e458c5b8ef2924b9a1ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78243dd21f7e458c5b8ef2924b9a1ee">handleMessages</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> player, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a> npc, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1items_1_1_item.html">Item</a> item)</td></tr>
<tr class="memitem:ad88934d13f17d01d1455ee4a64f9196d" id="r_ad88934d13f17d01d1455ee4a64f9196d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad88934d13f17d01d1455ee4a64f9196d">handleMiscDrops</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> player, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a> npc)</td></tr>
<tr class="memitem:a02c35eab6c1903dfff91ff99758a230d" id="r_a02c35eab6c1903dfff91ff99758a230d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop.html">NpcDrop</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02c35eab6c1903dfff91ff99758a230d">rollDrop</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> player, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a> npc)</td></tr>
<tr class="memitem:a6987b81bbf44767109f9bf32b84919b9" id="r_a6987b81bbf44767109f9bf32b84919b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6987b81bbf44767109f9bf32b84919b9">tridentRunes</a> (<a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a> killer, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1position_1_1_position.html">Position</a> dropPosition)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-static-attribs" class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa8bdb4c8ca35bbb65283921b582d4ec6" id="r_aa8bdb4c8ca35bbb65283921b582d4ec6"><td class="memItemLeft" align="right" valign="top">static final int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8bdb4c8ca35bbb65283921b582d4ec6">ALTERNATIVE_POSITION</a> = {2044, 2043, 2042, 494, 8060}</td></tr>
<tr class="memdesc:aa8bdb4c8ca35bbb65283921b582d4ec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alternative drop positions for mobs (i.e kraken, zulrah)  <br /></td></tr>
<tr class="memitem:a99ccb9e5f6fd6a7e93b16ea8132c2604" id="r_a99ccb9e5f6fd6a7e93b16ea8132c2604"><td class="memItemLeft" align="right" valign="top">static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99ccb9e5f6fd6a7e93b16ea8132c2604">USE_NEW_SYSTEM</a> = true</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The manager class which holds the static entries of drop tables and has a method to execute a drop table from the specified npc. </p>
<dl class="section author"><dt>Author</dt><dd><a href="https://runehive.com">Stand Up</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>29-1-2017. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00040">40</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a8d9c7ab1f7d242090514f0853a671770" name="a8d9c7ab1f7d242090514f0853a671770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9c7ab1f7d242090514f0853a671770">&#9670;&#160;</a></span>checkAlternativePosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.checkAlternativePosition </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>npc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00306">306</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  306</span>                                                             {</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> alternative : ALTERNATIVE_POSITION) {</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">if</span> (alternative == npc)</div>
<div class="line"><span class="lineno">  309</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  310</span>        }</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_npc_drop_manager_8java_source.html#l00050">ALTERNATIVE_POSITION</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00261">handleMiscDrops()</a>, and <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a8d9c7ab1f7d242090514f0853a671770_icgraph.svg" width="100%" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a53f2b061352aedc7629babc7f42a6595" name="a53f2b061352aedc7629babc7f42a6595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f2b061352aedc7629babc7f42a6595">&#9670;&#160;</a></span>drop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>killer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a></td>          <td class="paramname"><span class="paramname"><em>npc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to drop the drop table which belongs to <code class="JavaDocCode">npc#id</code>. </p>

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00058">58</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>                                                    {</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">if</span> (killer == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">   60</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   61</span>        }</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">if</span> (npc == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">   64</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   65</span>        }</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">if</span> (USE_NEW_SYSTEM) {</div>
<div class="line"><span class="lineno">   68</span>            rollDrop(killer, npc);</div>
<div class="line"><span class="lineno">   69</span>            AchievementHandler.activate(killer, AchievementKey.NPCS);</div>
<div class="line"><span class="lineno">   70</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   71</span>        }</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        NpcDropTable table = NPC_DROPS.get(npc.id);</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">if</span> (table == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        RandomGen gen = <span class="keyword">new</span> RandomGen();</div>
<div class="line"><span class="lineno">   80</span>        List&lt;NpcDrop&gt; npc_drops = table.generate(killer, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   81</span>        Position dropPosition = npc.getPosition().copy();</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        <span class="comment">// special drop positions</span></div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (checkAlternativePosition(npc.id)) {</div>
<div class="line"><span class="lineno">   85</span>            dropPosition = killer.getPosition().copy();</div>
<div class="line"><span class="lineno">   86</span>        }</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        <span class="comment">// crystal key drop</span></div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">if</span> (npc.getMaximumHealth() &gt; 50 &amp;&amp; Utility.random(150) &lt;= 5) {</div>
<div class="line"><span class="lineno">   90</span>            Item crystal_key = Utility.randomElement(CrystalChest.KEY_HALVES);</div>
<div class="line"><span class="lineno">   91</span>            GroundItem.create(killer, crystal_key, dropPosition);</div>
<div class="line"><span class="lineno">   92</span>            killer.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + crystal_key.getName()));</div>
<div class="line"><span class="lineno">   93</span>            AchievementHandler.activate(killer, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        <span class="comment">// casket drop</span></div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">if</span> (npc.getMaximumHealth() &gt; 10 &amp;&amp; Utility.random(200) &lt;= 10) {</div>
<div class="line"><span class="lineno">   98</span>            Item casket = <span class="keyword">new</span> Item(405);</div>
<div class="line"><span class="lineno">   99</span>            GroundItem.create(killer, casket, dropPosition);</div>
<div class="line"><span class="lineno">  100</span>            killer.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + casket.getName(), <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  101</span>            AchievementHandler.activate(killer, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  102</span>        }</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>        <span class="comment">// drop table</span></div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">for</span> (NpcDrop drop : npc_drops) {</div>
<div class="line"><span class="lineno">  106</span>            Item item = drop.toItem(gen);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">if</span> (item.getId() == 11941 &amp;&amp; (killer.playerAssistant.contains(<span class="keyword">new</span> Item(LootingBagPlugin.OPENED_ID)) || killer.playerAssistant.contains(item))) { <span class="comment">// looting bag</span></div>
<div class="line"><span class="lineno">  109</span>                killer.message(<span class="keyword">true</span>, <span class="stringliteral">&quot;You have missed out on &quot;</span> + Utility.getAOrAn(item.getName()) + <span class="stringliteral">&quot; &quot;</span> + item.getName() + <span class="stringliteral">&quot; since you already have on on your account.&quot;</span>);</div>
<div class="line"><span class="lineno">  110</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  111</span>            }</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span><span class="comment">//            if (killer.clanChannel != null &amp;&amp; killer.clanChannel.lootshareEnabled()) {</span></div>
<div class="line"><span class="lineno">  114</span><span class="comment">//                killer.forClan(channel -&gt; channel.splitLoot(killer, npc, item));</span></div>
<div class="line"><span class="lineno">  115</span><span class="comment">//                return;</span></div>
<div class="line"><span class="lineno">  116</span><span class="comment">//            }</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">if</span> (killer.settings.dropNotification &amp;&amp; item.getValue() &gt; 1_000_000) {</div>
<div class="line"><span class="lineno">  119</span>                String name = item.getName();</div>
<div class="line"><span class="lineno">  120</span>                killer.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Exotic Drop Notification: &lt;/col&gt;&quot;</span> + name + <span class="stringliteral">&quot; (&quot;</span> + Utility.formatDigits(item.getValue()) + <span class="stringliteral">&quot; coins)&quot;</span>));</div>
<div class="line"><span class="lineno">  121</span>                World.sendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;osroyale: &lt;col=&quot;</span> + killer.right.getColor() + <span class="stringliteral">&quot;&gt;&quot;</span> + killer.getName() + <span class="stringliteral">&quot; &lt;/col&gt;has just received &quot;</span> + Utility.getAOrAn(name) + <span class="stringliteral">&quot; &lt;col=BA383E&gt;&quot;</span> + name + <span class="stringliteral">&quot; &lt;/col&gt;from &lt;col=BA383E&gt;&quot;</span> + npc.getName() + <span class="stringliteral">&quot;&lt;/col&gt;!&quot;</span>);</div>
<div class="line"><span class="lineno">  122</span>                <span class="comment">// DiscordPlugin.sendSimpleMessage(killer.getName() + &quot; has just received &quot; + Utility.getAOrAn(name) + &quot; &quot; + name + &quot; from &quot; + npc.getName() + &quot;!&quot;);</span></div>
<div class="line"><span class="lineno">  123</span>                <span class="keywordflow">if</span> (killer.settings.screenshotKill) {</div>
<div class="line"><span class="lineno">  124</span>                    killer.getPlayer().send(<span class="keyword">new</span> SendScreenshot());</div>
<div class="line"><span class="lineno">  125</span>                }</div>
<div class="line"><span class="lineno">  126</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (killer.settings.dropNotification &amp;&amp; item.getValue() &gt; 100_000) {</div>
<div class="line"><span class="lineno">  127</span>                String name = item.getName();</div>
<div class="line"><span class="lineno">  128</span>                killer.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + name + <span class="stringliteral">&quot; (&quot;</span> + Utility.formatDigits(item.getValue()) + <span class="stringliteral">&quot; coins)&quot;</span>));</div>
<div class="line"><span class="lineno">  129</span>                AchievementHandler.activate(killer, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  130</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (killer.settings.untradeableNotification &amp;&amp; !item.isTradeable()) {</div>
<div class="line"><span class="lineno">  131</span>                killer.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=F5424B&gt;Untradeable Drop Notification: &lt;/col&gt;&quot;</span> + item.getName()));</div>
<div class="line"><span class="lineno">  132</span>            }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>            CollectionLog.checkItemDrop(killer, npc.id, item.getId(), item.getAmount());</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">if</span> (npc.id == 494 &amp;&amp; item.getId() == 11907) {</div>
<div class="line"><span class="lineno">  137</span>                tridentRunes(killer, dropPosition);</div>
<div class="line"><span class="lineno">  138</span>            }</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>            <span class="keywordflow">if</span> (!item.isStackable()) {</div>
<div class="line"><span class="lineno">  141</span>                Item single = item.createWithAmount(1);</div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; item.getAmount(); i++)</div>
<div class="line"><span class="lineno">  143</span>                    GroundItem.create(killer, single, dropPosition);</div>
<div class="line"><span class="lineno">  144</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  145</span>                GroundItem.create(killer, item, dropPosition);</div>
<div class="line"><span class="lineno">  146</span>            }</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_achievement_handler_8java_source.html#l00020">com.runehive.content.achievement.AchievementHandler.activate()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00306">checkAlternativePosition()</a>, <a class="el" href="_collection_log_8java_source.html#l00164">com.runehive.content.collectionlog.CollectionLog.checkItemDrop()</a>, <a class="el" href="_player_assistant_8java_source.html#l00605">com.runehive.game.world.entity.mob.player.PlayerAssistant.contains()</a>, <a class="el" href="_position_8java_source.html#l00314">com.runehive.game.world.position.Position.copy()</a>, <a class="el" href="_ground_item_8java_source.html#l00062">com.runehive.game.world.items.ground.GroundItem.create()</a>, <a class="el" href="_item_8java_source.html#l00158">com.runehive.game.world.items.Item.createWithAmount()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, <a class="el" href="_settings_8java_source.html#l00019">com.runehive.game.world.entity.mob.player.Settings.dropNotification</a>, <a class="el" href="_utility_8java_source.html#l00041">com.runehive.util.Utility.formatDigits()</a>, <a class="el" href="_npc_drop_table_8java_source.html#l00068">com.runehive.game.world.entity.mob.npc.drop.NpcDropTable.generate()</a>, <a class="el" href="_item_8java_source.html#l00342">com.runehive.game.world.items.Item.getAmount()</a>, <a class="el" href="_utility_8java_source.html#l00116">com.runehive.util.Utility.getAOrAn()</a>, <a class="el" href="_player_right_8java_source.html#l00164">com.runehive.game.world.entity.mob.player.PlayerRight.getColor()</a>, <a class="el" href="_item_8java_source.html#l00324">com.runehive.game.world.items.Item.getId()</a>, <a class="el" href="_player_8java_source.html#l00774">com.runehive.game.world.entity.mob.player.Player.getName()</a>, <a class="el" href="_item_8java_source.html#l00356">com.runehive.game.world.items.Item.getName()</a>, <a class="el" href="_mob_8java_source.html#l00648">com.runehive.game.world.entity.mob.Mob.getPlayer()</a>, <a class="el" href="_entity_8java_source.html#l00040">com.runehive.game.world.entity.Entity.getPosition()</a>, <a class="el" href="_item_8java_source.html#l00098">com.runehive.game.world.items.Item.getValue()</a>, <a class="el" href="_item_8java_source.html#l00364">com.runehive.game.world.items.Item.isStackable()</a>, <a class="el" href="_item_8java_source.html#l00384">com.runehive.game.world.items.Item.isTradeable()</a>, <a class="el" href="_crystal_chest_8java_source.html#l00018">com.runehive.content.CrystalChest.KEY_HALVES</a>, <a class="el" href="_player_8java_source.html#l00572">com.runehive.game.world.entity.mob.player.Player.message()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00045">NPC_DROPS</a>, <a class="el" href="_achievement_key_8java_source.html#l00061">com.runehive.content.achievement.AchievementKey.NPCS</a>, <a class="el" href="_player_8java_source.html#l00320">com.runehive.game.world.entity.mob.player.Player.playerAssistant</a>, <a class="el" href="_utility_8java_source.html#l00239">com.runehive.util.Utility.random()</a>, <a class="el" href="_utility_8java_source.html#l00248">com.runehive.util.Utility.randomElement()</a>, <a class="el" href="_achievement_key_8java_source.html#l00063">com.runehive.content.achievement.AchievementKey.RARE_DROPS</a>, <a class="el" href="_player_8java_source.html#l00216">com.runehive.game.world.entity.mob.player.Player.right</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>, <a class="el" href="_settings_8java_source.html#l00050">com.runehive.game.world.entity.mob.player.Settings.screenshotKill</a>, <a class="el" href="_player_8java_source.html#l00420">com.runehive.game.world.entity.mob.player.Player.send()</a>, <a class="el" href="_world_8java_source.html#l00396">com.runehive.game.world.World.sendMessage()</a>, <a class="el" href="_player_8java_source.html#l00324">com.runehive.game.world.entity.mob.player.Player.settings</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00150">tridentRunes()</a>, <a class="el" href="_settings_8java_source.html#l00021">com.runehive.game.world.entity.mob.player.Settings.untradeableNotification</a>, and <a class="el" href="_npc_drop_manager_8java_source.html#l00053">USE_NEW_SYSTEM</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, <a class="el" href="_npc_death_8java_source.html#l00071">com.runehive.game.world.entity.mob.npc.NpcDeath.postDeath()</a>, and <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a53f2b061352aedc7629babc7f42a6595_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a53f2b061352aedc7629babc7f42a6595_icgraph.svg" width="100%" height="430"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adc23cfad8db3455319fe7eecf3c21806" name="adc23cfad8db3455319fe7eecf3c21806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc23cfad8db3455319fe7eecf3c21806">&#9670;&#160;</a></span>handleAshSanctifier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.handleAshSanctifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumcom_1_1runehive_1_1content_1_1skill_1_1impl_1_1prayer_1_1_ash_data.html">AshData</a></td>          <td class="paramname"><span class="paramname"><em>ashes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00184">184</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>                                                                          {</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> (ashes == <span class="keyword">null</span>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  186</span>        var exp = (ashes.getExperience() * Config.PRAYER_MODIFICATION);</div>
<div class="line"><span class="lineno">  187</span>        player.skills.addExperience(Skill.PRAYER, exp);</div>
<div class="line"><span class="lineno">  188</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_ash_data_8java_source.html#l00029">com.runehive.content.skill.impl.prayer.AshData.getExperience()</a>, <a class="el" href="_skill_8java_source.html#l00036">com.runehive.game.world.entity.skill.Skill.PRAYER</a>, and <a class="el" href="_config_8java_source.html#l00274">com.runehive.Config.PRAYER_MODIFICATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_adc23cfad8db3455319fe7eecf3c21806_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_adc23cfad8db3455319fe7eecf3c21806_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af543485e29973144848946a396595771" name="af543485e29973144848946a396595771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af543485e29973144848946a396595771">&#9670;&#160;</a></span>handleBoneCrusher()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.handleBoneCrusher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumcom_1_1runehive_1_1content_1_1skill_1_1impl_1_1prayer_1_1_bone_data.html">BoneData</a></td>          <td class="paramname"><span class="paramname"><em>bone</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00159">159</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  159</span>                                                                        {</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> (bone == <span class="keyword">null</span>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        var exp = (bone.getExperience() * Config.PRAYER_MODIFICATION);</div>
<div class="line"><span class="lineno">  163</span>        player.skills.addExperience(Skill.PRAYER, exp);</div>
<div class="line"><span class="lineno">  164</span>        AchievementHandler.activate(player, AchievementKey.BURY_BONES, 1);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> (player.equipment.hasAmulet() &amp;&amp; player.equipment.getAmuletSlot().getId() == 22111) {</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordtype">int</span> current = player.skills.getLevel(Skill.PRAYER);</div>
<div class="line"><span class="lineno">  168</span>            <span class="keywordtype">int</span> maximum = player.skills.getMaxLevel(Skill.PRAYER);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">if</span> (current &lt; maximum) {</div>
<div class="line"><span class="lineno">  171</span>                <span class="keywordtype">int</span> points = bone.getBoneAmulet();</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>                <span class="keywordflow">if</span> (current + points &gt; maximum) {</div>
<div class="line"><span class="lineno">  174</span>                    points = maximum - current;</div>
<div class="line"><span class="lineno">  175</span>                }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>                player.skills.get(Skill.PRAYER).addLevel(points);</div>
<div class="line"><span class="lineno">  178</span>                player.skills.refresh(Skill.PRAYER);</div>
<div class="line"><span class="lineno">  179</span>                player.message(<span class="stringliteral">&quot;You feel your &quot;</span> + player.equipment.getAmuletSlot().getName() + <span class="stringliteral">&quot; vibrate as you bury the bone.&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>            }</div>
<div class="line"><span class="lineno">  181</span>        }</div>
<div class="line"><span class="lineno">  182</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_achievement_handler_8java_source.html#l00020">com.runehive.content.achievement.AchievementHandler.activate()</a>, <a class="el" href="_achievement_key_8java_source.html#l00054">com.runehive.content.achievement.AchievementKey.BURY_BONES</a>, <a class="el" href="_bone_data_8java_source.html#l00054">com.runehive.content.skill.impl.prayer.BoneData.getBoneAmulet()</a>, <a class="el" href="_bone_data_8java_source.html#l00050">com.runehive.content.skill.impl.prayer.BoneData.getExperience()</a>, <a class="el" href="_skill_8java_source.html#l00036">com.runehive.game.world.entity.skill.Skill.PRAYER</a>, and <a class="el" href="_config_8java_source.html#l00274">com.runehive.Config.PRAYER_MODIFICATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_af543485e29973144848946a396595771_cgraph.svg" width="100%" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_af543485e29973144848946a396595771_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad78243dd21f7e458c5b8ef2924b9a1ee" name="ad78243dd21f7e458c5b8ef2924b9a1ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78243dd21f7e458c5b8ef2924b9a1ee">&#9670;&#160;</a></span>handleMessages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.handleMessages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a></td>          <td class="paramname"><span class="paramname"><em>npc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1items_1_1_item.html">Item</a></td>          <td class="paramname"><span class="paramname"><em>item</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00282">282</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  282</span>                                                                          {</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> (item.getId() == 11941 &amp;&amp; (player.playerAssistant.contains(<span class="keyword">new</span> Item(LootingBagPlugin.OPENED_ID)) || player.playerAssistant.contains(item))) { <span class="comment">// looting bag</span></div>
<div class="line"><span class="lineno">  284</span>            player.message(<span class="stringliteral">&quot;You have missed out on &quot;</span> + Utility.getAOrAn(item.getName()) + <span class="stringliteral">&quot; &quot;</span> + item.getName() + <span class="stringliteral">&quot; since you already have on on your account.&quot;</span>);</div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  286</span>        }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> (player.settings.dropNotification &amp;&amp; item.getValue() &gt; 1_000_000) {</div>
<div class="line"><span class="lineno">  289</span>            String name = item.getName();</div>
<div class="line"><span class="lineno">  290</span>            player.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Exotic Drop Notification: &lt;/col&gt;&quot;</span> + name + <span class="stringliteral">&quot; (&quot;</span> + Utility.formatDigits(item.getValue()) + <span class="stringliteral">&quot; coins)&quot;</span>));</div>
<div class="line"><span class="lineno">  291</span>            World.sendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;osroyale: &lt;col=&quot;</span> + player.right.getColor() + <span class="stringliteral">&quot;&gt;&quot;</span> + player.getName() + <span class="stringliteral">&quot; &lt;/col&gt;has just received &quot;</span> + Utility.getAOrAn(name) + <span class="stringliteral">&quot; &lt;col=BA383E&gt;&quot;</span> + name + <span class="stringliteral">&quot; &lt;/col&gt;from &lt;col=BA383E&gt;&quot;</span> + npc.getName() + <span class="stringliteral">&quot;&lt;/col&gt;!&quot;</span>);</div>
<div class="line"><span class="lineno">  292</span>            <span class="comment">// DiscordPlugin.sendSimpleMessage(&quot;Exotic drop: &quot; + player.getName() + &quot; has just received &quot; + Utility.getAOrAn(name) + &quot; &quot; + name + &quot; from &quot; + npc.getName() + &quot;!&quot;);</span></div>
<div class="line"><span class="lineno">  293</span>            AchievementHandler.activate(player, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">if</span> (player.settings.screenshotKill) {</div>
<div class="line"><span class="lineno">  295</span>                player.getPlayer().send(<span class="keyword">new</span> SendScreenshot());</div>
<div class="line"><span class="lineno">  296</span>            }</div>
<div class="line"><span class="lineno">  297</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.settings.dropNotification &amp;&amp; item.getValue() &gt; 100_000) {</div>
<div class="line"><span class="lineno">  298</span>            String name = item.getName();</div>
<div class="line"><span class="lineno">  299</span>            player.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + name + <span class="stringliteral">&quot; (&quot;</span> + Utility.formatDigits(item.getValue()) + <span class="stringliteral">&quot; coins)&quot;</span>));</div>
<div class="line"><span class="lineno">  300</span>            AchievementHandler.activate(player, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  301</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.settings.untradeableNotification &amp;&amp; !item.isTradeable()) {</div>
<div class="line"><span class="lineno">  302</span>            player.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=F5424B&gt;Untradeable Drop Notification: &lt;/col&gt;&quot;</span> + item.getName()));</div>
<div class="line"><span class="lineno">  303</span>        }</div>
<div class="line"><span class="lineno">  304</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_achievement_handler_8java_source.html#l00020">com.runehive.content.achievement.AchievementHandler.activate()</a>, <a class="el" href="_utility_8java_source.html#l00041">com.runehive.util.Utility.formatDigits()</a>, <a class="el" href="_utility_8java_source.html#l00116">com.runehive.util.Utility.getAOrAn()</a>, <a class="el" href="_item_8java_source.html#l00324">com.runehive.game.world.items.Item.getId()</a>, <a class="el" href="_item_8java_source.html#l00356">com.runehive.game.world.items.Item.getName()</a>, <a class="el" href="_item_8java_source.html#l00098">com.runehive.game.world.items.Item.getValue()</a>, <a class="el" href="_item_8java_source.html#l00384">com.runehive.game.world.items.Item.isTradeable()</a>, <a class="el" href="_achievement_key_8java_source.html#l00063">com.runehive.content.achievement.AchievementKey.RARE_DROPS</a>, and <a class="el" href="_world_8java_source.html#l00396">com.runehive.game.world.World.sendMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_ad78243dd21f7e458c5b8ef2924b9a1ee_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_ad78243dd21f7e458c5b8ef2924b9a1ee_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad88934d13f17d01d1455ee4a64f9196d" name="ad88934d13f17d01d1455ee4a64f9196d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88934d13f17d01d1455ee4a64f9196d">&#9670;&#160;</a></span>handleMiscDrops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.handleMiscDrops </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a></td>          <td class="paramname"><span class="paramname"><em>npc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00261">261</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>                                                                {</div>
<div class="line"><span class="lineno">  262</span>        Position dropPosition = npc.getPosition().copy();</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">if</span> (checkAlternativePosition(npc.id)) {</div>
<div class="line"><span class="lineno">  264</span>            dropPosition = player.getPosition().copy();</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">if</span> (npc.getMaximumHealth() &gt; 50 &amp;&amp; Utility.random(150) &lt;= 5) {</div>
<div class="line"><span class="lineno">  267</span>            Item crystal_key = Utility.randomElement(CrystalChest.KEY_HALVES);</div>
<div class="line"><span class="lineno">  268</span>            GroundItem.create(player, crystal_key, dropPosition);</div>
<div class="line"><span class="lineno">  269</span>            player.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + crystal_key.getName()));</div>
<div class="line"><span class="lineno">  270</span>            AchievementHandler.activate(player, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  271</span>        }</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="comment">// casket drop</span></div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> (npc.getMaximumHealth() &gt; 10 &amp;&amp; Utility.random(200) &lt;= 10) {</div>
<div class="line"><span class="lineno">  275</span>            Item casket = <span class="keyword">new</span> Item(405);</div>
<div class="line"><span class="lineno">  276</span>            GroundItem.create(player, casket, dropPosition);</div>
<div class="line"><span class="lineno">  277</span>            player.send(<span class="keyword">new</span> SendMessage(<span class="stringliteral">&quot;&lt;col=BA383E&gt;Rare Drop Notification: &lt;/col&gt;&quot;</span> + casket.getName(), <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  278</span>            AchievementHandler.activate(player, AchievementKey.RARE_DROPS);</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_achievement_handler_8java_source.html#l00020">com.runehive.content.achievement.AchievementHandler.activate()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00306">checkAlternativePosition()</a>, <a class="el" href="_ground_item_8java_source.html#l00062">com.runehive.game.world.items.ground.GroundItem.create()</a>, <a class="el" href="_item_8java_source.html#l00356">com.runehive.game.world.items.Item.getName()</a>, <a class="el" href="_crystal_chest_8java_source.html#l00018">com.runehive.content.CrystalChest.KEY_HALVES</a>, <a class="el" href="_utility_8java_source.html#l00239">com.runehive.util.Utility.random()</a>, <a class="el" href="_utility_8java_source.html#l00248">com.runehive.util.Utility.randomElement()</a>, and <a class="el" href="_achievement_key_8java_source.html#l00063">com.runehive.content.achievement.AchievementKey.RARE_DROPS</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_ad88934d13f17d01d1455ee4a64f9196d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_ad88934d13f17d01d1455ee4a64f9196d_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a02c35eab6c1903dfff91ff99758a230d" name="a02c35eab6c1903dfff91ff99758a230d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c35eab6c1903dfff91ff99758a230d">&#9670;&#160;</a></span>rollDrop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop.html">NpcDrop</a> com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.rollDrop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1_npc.html">Npc</a></td>          <td class="paramname"><span class="paramname"><em>npc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle the pet roll if the item is a pet</p>
<p>Handle the pet roll if the item is a pet</p>

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00190">190</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>                                                            {</div>
<div class="line"><span class="lineno">  191</span>        <span class="comment">//   player.send(new SendMessage(&quot;Called rollDrop&quot;));</span></div>
<div class="line"><span class="lineno">  192</span>        NpcDropTable table = NPC_DROPS.get(npc.id);</div>
<div class="line"><span class="lineno">  193</span>        Position dropPos = npc.getPosition().copy();</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> (checkAlternativePosition(npc.id)) {</div>
<div class="line"><span class="lineno">  195</span>            dropPos = player.getPosition().copy();</div>
<div class="line"><span class="lineno">  196</span>        }</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">if</span> (table == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  199</span>        }</div>
<div class="line"><span class="lineno">  200</span>        handleMiscDrops(player, npc);</div>
<div class="line"><span class="lineno">  201</span>        NpcDrop[] drops = table.drops;</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">for</span> (NpcDrop drop : drops) {</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordflow">if</span> (drop.getWeight() == 0) {</div>
<div class="line"><span class="lineno">  204</span>                Item item = drop.toItem(<span class="keyword">new</span> RandomGen());</div>
<div class="line"><span class="lineno">  205</span>                <span class="keywordflow">if</span> (BoneData.forId(item.getId()).isPresent() &amp;&amp; !item.isNoted() &amp;&amp; player.inventory.contains(Items.BONECRUSHER)) {</div>
<div class="line"><span class="lineno">  206</span>                    handleBoneCrusher(player, BoneData.forId(item.getId()).get());</div>
<div class="line"><span class="lineno">  207</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  208</span>                }</div>
<div class="line"><span class="lineno">  209</span>                <span class="keywordflow">if</span> (AshData.forId(item.getId()).isPresent() &amp;&amp; !item.isNoted() &amp;&amp; player.inventory.contains(25781)) {</div>
<div class="line"><span class="lineno">  210</span>                    handleAshSanctifier(player, AshData.forId(item.getId()).get());</div>
<div class="line"><span class="lineno">  211</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  212</span>                }<span class="comment"></span></div>
<div class="line"><span class="lineno">  213</span><span class="comment">                /**</span></div>
<div class="line"><span class="lineno">  214</span><span class="comment">                 * Handle the pet roll if the item is a pet</span></div>
<div class="line"><span class="lineno">  215</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  216</span>                <span class="keywordflow">if</span>(PetData.forItem(item.getId()).isPresent()) {</div>
<div class="line"><span class="lineno">  217</span>                    Pets.onReward(player, item.getId());</div>
<div class="line"><span class="lineno">  218</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  219</span>                    GroundItem.create(player, item, dropPos);</div>
<div class="line"><span class="lineno">  220</span>                }</div>
<div class="line"><span class="lineno">  221</span>            }</div>
<div class="line"><span class="lineno">  222</span>        }</div>
<div class="line"><span class="lineno">  223</span>        WeightedCollection&lt;NpcDrop&gt; rc = <span class="keyword">new</span> WeightedCollection&lt;&gt;();</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">for</span> (NpcDrop drop : drops) {</div>
<div class="line"><span class="lineno">  225</span>            <span class="keywordtype">double</span> drOffset = 1 + (PlayerRight.getDropRateBonus(player) / 100.0); <span class="comment">// dr bonus is in percent, conversion is 1 + (percent / 100.0)</span></div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordtype">int</span> weightMultiplier = 1;</div>
<div class="line"><span class="lineno">  227</span>            <span class="keywordtype">double</span> dropChance = (drop.getWeight() * weightMultiplier) / drOffset;</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">if</span> (dropChance &lt; 1) {</div>
<div class="line"><span class="lineno">  229</span>                dropChance = 1;</div>
<div class="line"><span class="lineno">  230</span>            }</div>
<div class="line"><span class="lineno">  231</span>            <span class="keywordtype">double</span> weight = 1.0 / dropChance;</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">if</span> (drop.getWeight() != 0) {</div>
<div class="line"><span class="lineno">  233</span>                rc.add(weight, drop);</div>
<div class="line"><span class="lineno">  234</span>            }</div>
<div class="line"><span class="lineno">  235</span>        }</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordtype">double</span> weightSum = rc.getTotal();</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">if</span> (Math.random() &lt;= weightSum) {</div>
<div class="line"><span class="lineno">  240</span>            NpcDrop selectedDrop = rc.next();</div>
<div class="line"><span class="lineno">  241</span>            Item item = selectedDrop.toItem(<span class="keyword">new</span> RandomGen());</div>
<div class="line"><span class="lineno">  242</span>            handleMessages(player, npc, item);<span class="comment"></span></div>
<div class="line"><span class="lineno">  243</span><span class="comment">            /**</span></div>
<div class="line"><span class="lineno">  244</span><span class="comment">             * Handle the pet roll if the item is a pet</span></div>
<div class="line"><span class="lineno">  245</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">if</span> (npc.id == 494 &amp;&amp; item.getId() == 11907) {</div>
<div class="line"><span class="lineno">  247</span>                tridentRunes(player, dropPos);</div>
<div class="line"><span class="lineno">  248</span>            }</div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">if</span>(PetData.forItem(item.getId()).isPresent()) {</div>
<div class="line"><span class="lineno">  250</span>                Pets.onReward(player, item.getId());</div>
<div class="line"><span class="lineno">  251</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  252</span>                GroundItem.create(player, item, dropPos);</div>
<div class="line"><span class="lineno">  253</span>            }</div>
<div class="line"><span class="lineno">  254</span>            CollectionLog.checkItemDrop(player, npc.id, item.getId(), item.getAmount());</div>
<div class="line"><span class="lineno">  255</span>            <span class="keywordflow">return</span> selectedDrop;</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_weighted_collection_8java_source.html#l00024">com.runehive.game.world.entity.mob.npc.drop.WeightedCollection&lt; E &gt;.add()</a>, <a class="el" href="_items_8java_source.html#l13121">com.runehive.util.Items.BONECRUSHER</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00306">checkAlternativePosition()</a>, <a class="el" href="_collection_log_8java_source.html#l00164">com.runehive.content.collectionlog.CollectionLog.checkItemDrop()</a>, <a class="el" href="_ground_item_8java_source.html#l00062">com.runehive.game.world.items.ground.GroundItem.create()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, <a class="el" href="_npc_drop_table_8java_source.html#l00026">com.runehive.game.world.entity.mob.npc.drop.NpcDropTable.drops</a>, <a class="el" href="_ash_data_8java_source.html#l00032">com.runehive.content.skill.impl.prayer.AshData.forId()</a>, <a class="el" href="_bone_data_8java_source.html#l00059">com.runehive.content.skill.impl.prayer.BoneData.forId()</a>, <a class="el" href="_pet_data_8java_source.html#l00485">com.runehive.content.pet.PetData.forItem()</a>, <a class="el" href="_item_8java_source.html#l00342">com.runehive.game.world.items.Item.getAmount()</a>, <a class="el" href="_player_right_8java_source.html#l00249">com.runehive.game.world.entity.mob.player.PlayerRight.getDropRateBonus()</a>, <a class="el" href="_item_8java_source.html#l00324">com.runehive.game.world.items.Item.getId()</a>, <a class="el" href="_weighted_collection_8java_source.html#l00012">com.runehive.game.world.entity.mob.npc.drop.WeightedCollection&lt; E &gt;.getTotal()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00184">handleAshSanctifier()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00159">handleBoneCrusher()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00282">handleMessages()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00261">handleMiscDrops()</a>, <a class="el" href="_item_8java_source.html#l00372">com.runehive.game.world.items.Item.isNoted()</a>, <a class="el" href="_weighted_collection_8java_source.html#l00031">com.runehive.game.world.entity.mob.npc.drop.WeightedCollection&lt; E &gt;.next()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00045">NPC_DROPS</a>, <a class="el" href="_pets_8java_source.html#l00033">com.runehive.content.pet.Pets.onReward()</a>, <a class="el" href="_npc_drop_8java_source.html#l00037">com.runehive.game.world.entity.mob.npc.drop.NpcDrop.toItem()</a>, and <a class="el" href="_npc_drop_manager_8java_source.html#l00150">tridentRunes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>.</p>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a02c35eab6c1903dfff91ff99758a230d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a02c35eab6c1903dfff91ff99758a230d_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6987b81bbf44767109f9bf32b84919b9" name="a6987b81bbf44767109f9bf32b84919b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6987b81bbf44767109f9bf32b84919b9">&#9670;&#160;</a></span>tridentRunes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.tridentRunes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1player_1_1_player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>killer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1position_1_1_position.html">Position</a></td>          <td class="paramname"><span class="paramname"><em>dropPosition</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00150">150</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>                                                                           {</div>
<div class="line"><span class="lineno">  151</span>        List&lt;Item&gt; fullChargeItems = Arrays.asList(</div>
<div class="line"><span class="lineno">  152</span>                <span class="keyword">new</span> Item(Items.DEATH_RUNE, 2500), <span class="keyword">new</span> Item(Items.CHAOS_RUNE, 2500),</div>
<div class="line"><span class="lineno">  153</span>                <span class="keyword">new</span> Item(Items.FIRE_RUNE, 12500), <span class="keyword">new</span> Item(Items.COINS, 25000)</div>
<div class="line"><span class="lineno">  154</span>        );</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        fullChargeItems.forEach(item -&gt; GroundItem.create(killer, item, dropPosition));</div>
<div class="line"><span class="lineno">  157</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_items_8java_source.html#l00567">com.runehive.util.Items.CHAOS_RUNE</a>, <a class="el" href="_items_8java_source.html#l01000">com.runehive.util.Items.COINS</a>, <a class="el" href="_ground_item_8java_source.html#l00062">com.runehive.game.world.items.ground.GroundItem.create()</a>, <a class="el" href="_items_8java_source.html#l00565">com.runehive.util.Items.DEATH_RUNE</a>, and <a class="el" href="_items_8java_source.html#l00559">com.runehive.util.Items.FIRE_RUNE</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, and <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>.</p>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a6987b81bbf44767109f9bf32b84919b9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;"><span class="dynarrow"><span class="arrowhead closed"></span></span>Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_manager_a6987b81bbf44767109f9bf32b84919b9_icgraph.svg" width="100%" height="430"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="aa8bdb4c8ca35bbb65283921b582d4ec6" name="aa8bdb4c8ca35bbb65283921b582d4ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bdb4c8ca35bbb65283921b582d4ec6">&#9670;&#160;</a></span>ALTERNATIVE_POSITION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int [] com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.ALTERNATIVE_POSITION = {2044, 2043, 2042, 494, 8060}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Alternative drop positions for mobs (i.e kraken, zulrah) </p>

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00050">50</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>{2044, 2043, 2042, 494, 8060};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00306">checkAlternativePosition()</a>.</p>

</div>
</div>
<a id="ae0b2b9cc3424f3af4a4f9d3e12a62036" name="ae0b2b9cc3424f3af4a4f9d3e12a62036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b2b9cc3424f3af4a4f9d3e12a62036">&#9670;&#160;</a></span>NPC_DROPS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Map&lt;Integer, <a class="el" href="classcom_1_1runehive_1_1game_1_1world_1_1entity_1_1mob_1_1npc_1_1drop_1_1_npc_drop_table.html">NpcDropTable</a>&gt; com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.NPC_DROPS = new HashMap&lt;&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The collection of npc ids by their representative drop tables. </p>

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00045">45</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="_drop_simulator_8java_source.html#l00039">com.runehive.content.simulator.DropSimulator.drawList()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>, <a class="el" href="_npc_drops_parser_8java_source.html#l00026">com.runehive.util.tools.wiki.impl.NpcDropsParser.generateTables()</a>, <a class="el" href="_npc_drop_table_8java_source.html#l00119">com.runehive.game.world.entity.mob.npc.drop.NpcDropTable.main()</a>, <a class="el" href="_drop_display_8java_source.html#l00049">com.runehive.content.DropDisplay.open()</a>, <a class="el" href="_npc_drop_parser_8java_source.html#l00030">com.runehive.util.parser.impl.NpcDropParser.parse()</a>, <a class="el" href="_npc_drop_manager_8java_source.html#l00190">rollDrop()</a>, and <a class="el" href="_drop_display_8java_source.html#l00056">com.runehive.content.DropDisplay.search()</a>.</p>

</div>
</div>
<a id="a99ccb9e5f6fd6a7e93b16ea8132c2604" name="a99ccb9e5f6fd6a7e93b16ea8132c2604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ccb9e5f6fd6a7e93b16ea8132c2604">&#9670;&#160;</a></span>USE_NEW_SYSTEM</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean com.runehive.game.world.entity.mob.npc.drop.NpcDropManager.USE_NEW_SYSTEM = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_npc_drop_manager_8java_source.html#l00053">53</a> of file <a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a>.</p>

<p class="reference">Referenced by <a class="el" href="_npc_drop_manager_8java_source.html#l00058">drop()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>java/com/runehive/game/world/entity/mob/npc/drop/<a class="el" href="_npc_drop_manager_8java_source.html">NpcDropManager.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<script>
// Git Bash Interactive Diagram Enhancement
(function() {
    'use strict';
    // Package color map
    const packageColors = {
        'game': '#4ec950',
        'net': '#00c5c7',
        'content': '#c7c329',
        'util': '#c930c7',
        'io': '#2d72d9',
        'fs': '#c91b00'
    };
    // Add controls to each diagram
    document.querySelectorAll('.dotgraph, .diagraph').forEach(diagram => {
        // Create control wrapper
        const wrapper = document.createElement('div');
        wrapper.className = 'diagram-wrapper';
        diagram.parentNode.insertBefore(wrapper, diagram);
        wrapper.appendChild(diagram);
        // Add control buttons
        const controls = document.createElement('div');
        controls.className = 'diagram-controls';
        controls.innerHTML = `
            <button class="collapse-btn" title="Collapse/Expand">[-]</button>
            <button class="zoom-in-btn" title="Zoom In">[+]</button>
            <button class="zoom-out-btn" title="Zoom Out">[-]</button>
            <button class="reset-btn" title="Reset">[R]</button>
            <button class="highlight-btn" title="Toggle Package Colors">[C]</button>
        `;
        wrapper.appendChild(controls);
        const svg = diagram.querySelector('svg');
        let scale = 1;
        let isCollapsed = false;
        let colorMode = true;
        // Collapse functionality
        controls.querySelector('.collapse-btn').onclick = function() {
            isCollapsed = !isCollapsed;
            if (isCollapsed) {
                svg.style.display = 'none';
                this.textContent = '[+]';
            } else {
                svg.style.display = 'block';
                this.textContent = '[-]';
            }
        };
        // Zoom controls
        controls.querySelector('.zoom-in-btn').onclick = () => {
            scale *= 1.2;
            svg.style.transform = `scale(${scale})`;
        };
        controls.querySelector('.zoom-out-btn').onclick = () => {
            scale /= 1.2;
            svg.style.transform = `scale(${scale})`;
        };
        controls.querySelector('.reset-btn').onclick = () => {
            scale = 1;
            svg.style.transform = `scale(${scale})`;
        };
        // Color mode toggle
        controls.querySelector('.highlight-btn').onclick = function() {
            colorMode = !colorMode;
            applyPackageColors(svg, colorMode);
            this.style.color = colorMode ? '#00c5c7' : '#4ec950';
        };
    });
    // Apply package-based coloring
    function applyPackageColors(svg, enable) {
        svg.querySelectorAll('.node').forEach(node => {
            const title = node.querySelector('title');
            if (title) {
                const text = title.textContent;
                for (const [pkg, color] of Object.entries(packageColors)) {
                    if (text.includes(`.${pkg}.`)) {
                        const polygon = node.querySelector('polygon, ellipse, rect');
                        if (polygon) {
                            polygon.style.stroke = enable ? color : '#00c5c7';
                        }
                        const textEl = node.querySelector('text');
                        if (textEl) {
                            textEl.style.fill = enable ? color : '#00c5c7';
                        }
                        break;
                    }
                }
            }
        });
    }
    // Add click-to-highlight functionality
    document.querySelectorAll('svg .node').forEach(node => {
        node.addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('highlighted');
            // Show related edges
            const nodeId = this.id;
            document.querySelectorAll(`svg .edge`).forEach(edge => {
                if (edge.id && (edge.id.includes(nodeId))) {
                    edge.classList.toggle('highlighted');
                }
            });
        });
    });
    // Add tooltips
    const tooltip = document.createElement('div');
    tooltip.className = 'svg-tooltip';
    document.body.appendChild(tooltip);
    document.querySelectorAll('svg .node').forEach(node => {
        const title = node.querySelector('title');
        if (title) {
            node.addEventListener('mouseenter', function(e) {
                tooltip.textContent = `$ info: ${title.textContent}`;
                tooltip.classList.add('visible');
            });
            node.addEventListener('mousemove', function(e) {
                tooltip.style.left = e.pageX + 10 + 'px';
                tooltip.style.top = e.pageY + 10 + 'px';
            });
            node.addEventListener('mouseleave', function() {
                tooltip.classList.remove('visible');
            });
        }
    });
    // Terminal-style loading animation
    console.log('%c$ doxygen --interactive-mode', 'color: #4ec950; font-family: monospace');
    console.log('%cDiagram enhancements loaded', 'color: #00c5c7; font-family: monospace');
})();
</script>
<style>
/* Additional runtime styles */
svg.interactive-mode .node { cursor: pointer; }
svg.interactive-mode .edge { pointer-events: all; }
</style>
